@reference "tailwindcss";

/* Coach Weekly Availability Styles */
.tm-coach-availability {
  @apply w-full;
}

.tm-coach-availability-container {
  @apply rounded-lg p-4;
  background-color: var(--rsp-card-bg);
  border: 1px solid var(--rsp-border);
}

.tm-coach-availability-header {
  @apply flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4;
}

.tm-coach-availability-title {
  @apply text-xl font-bold;
  color: var(--rsp-foreground);
}

.tm-coach-availability-subtitle {
  @apply text-sm mt-1;
  color: var(--rsp-foreground);
  opacity: 0.7;
}

.tm-coach-availability-actions {
  @apply flex gap-2;
}

/* Weekly Grid */
.tm-coach-week-grid {
  @apply w-full overflow-x-auto;
}

.tm-coach-week-grid-inner {
  @apply grid gap-px;
  min-width: 700px;
  /* First column for day labels (100px), remaining for hourly slots */
  grid-template-columns: 100px repeat(14, minmax(45px, 1fr));
  background-color: var(--rsp-border);
}

/* Header row */
.tm-coach-grid-header {
  @apply contents;
}

.tm-coach-grid-corner {
  @apply p-2 text-xs font-semibold text-center flex items-center justify-center;
  background-color: var(--rsp-card-bg);
  color: var(--rsp-foreground);
}

.tm-coach-grid-hour-header {
  @apply p-1 text-xs font-medium text-center flex items-center justify-center;
  background-color: var(--rsp-card-bg);
  color: var(--rsp-foreground);
}

/* Day rows */
.tm-coach-grid-row {
  @apply contents;
}

.tm-coach-grid-day-label {
  @apply p-2 text-sm font-medium flex items-center;
  background-color: var(--rsp-card-bg);
  color: var(--rsp-foreground);
}

/* Availability cells */
.tm-coach-availability-cell {
  @apply relative cursor-pointer transition-all flex items-center justify-center;
  min-height: 48px;
  background-color: var(--rsp-background);
}

.tm-coach-availability-cell:hover {
  @apply opacity-90;
}

.tm-coach-availability-cell:focus {
  @apply outline-none ring-2 ring-inset;
  ring-color: var(--rsp-primary);
}

/* Cell states */
.tm-coach-availability-cell--available {
  background-color: #22c55e;
}

.tm-coach-availability-cell--available.tm-coach-availability-cell--start {
  border-top-left-radius: 0.25rem;
  border-bottom-left-radius: 0.25rem;
}

.tm-coach-availability-cell--available.tm-coach-availability-cell--end {
  border-top-right-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
}

.tm-coach-availability-cell--available:hover {
  background-color: #16a34a;
}

.tm-coach-availability-cell--empty {
  background-color: var(--rsp-background);
}

.tm-coach-availability-cell--empty:hover {
  background-color: var(--rsp-border);
}

/* Dark mode adjustments */
.dark .tm-coach-availability-cell--available {
  background-color: #16a34a;
}

.dark .tm-coach-availability-cell--available:hover {
  background-color: #15803d;
}

/* Slot block within cells */
.tm-coach-slot-block {
  @apply absolute inset-0 flex items-center justify-center text-xs font-medium text-white cursor-pointer;
  background-color: var(--rsp-primary);
}

.tm-coach-slot-block:hover {
  background-color: var(--rsp-primary-hover);
}

.tm-coach-slot-block--start {
  @apply rounded-l;
}

.tm-coach-slot-block--end {
  @apply rounded-r;
}

/* Legend */
.tm-coach-availability-legend {
  @apply flex flex-wrap gap-4 mt-6 text-sm;
}

.tm-coach-legend-item {
  @apply flex items-center gap-2;
}

.tm-coach-legend-dot {
  @apply w-4 h-4 rounded;
}

.tm-coach-legend-dot--available {
  background-color: #22c55e;
}

.dark .tm-coach-legend-dot--available {
  background-color: #16a34a;
}

.tm-coach-legend-dot--empty {
  background-color: var(--rsp-background);
  border: 1px solid var(--rsp-border);
}

/* Slot Modal */
.tm-slot-modal-form {
  @apply space-y-4;
}

.tm-slot-modal-row {
  @apply grid grid-cols-2 gap-4;
}

.tm-slot-modal-actions {
  @apply flex justify-end gap-2 mt-6;
}

/* Toast notifications */
.tm-toast {
  @apply fixed top-4 right-4 z-50 px-4 py-3 rounded shadow-lg transition-all;
}

.tm-toast--success {
  background-color: #dcfce7;
  border: 1px solid #16a34a;
  color: #166534;
}

.tm-toast--error {
  background-color: #fee2e2;
  border: 1px solid #dc2626;
  color: #991b1b;
}

.dark .tm-toast--success {
  background-color: rgba(22, 163, 74, 0.2);
  border-color: #16a34a;
  color: #86efac;
}

.dark .tm-toast--error {
  background-color: rgba(220, 38, 38, 0.2);
  border-color: #dc2626;
  color: #fca5a5;
}

/* Loading skeleton */
.tm-coach-availability-skeleton {
  @apply animate-pulse;
}

.tm-coach-availability-skeleton-cell {
  @apply h-12;
  background-color: var(--rsp-border);
}

/* Instructions */
.tm-coach-availability-instructions {
  @apply text-sm p-4 rounded-lg mb-4;
  background-color: var(--rsp-border);
  color: var(--rsp-foreground);
}

/* Slot hover effect showing note */
.tm-coach-slot-tooltip {
  @apply absolute z-50 p-2 rounded shadow-lg text-xs max-w-[200px] pointer-events-none;
  background-color: var(--rsp-foreground);
  color: var(--rsp-background);
  transform: translateX(-50%) translateY(-100%);
  top: -8px;
  left: 50%;
}

.tm-coach-slot-tooltip::after {
  @apply absolute;
  content: "";
  border-width: 6px;
  border-style: solid;
  border-color: var(--rsp-foreground) transparent transparent transparent;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
}
