@reference "tailwindcss";

.rsp-multiselect-wrapper {
  @apply block relative;
}

.rsp-multiselect-trigger {
  @apply w-full rounded-md px-3 py-2 text-sm transition-colors cursor-pointer;
  @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  @apply flex items-center justify-between gap-2;
  background-color: var(--rsp-background);
  color: var(--rsp-foreground);
  border: 1px solid var(--rsp-border);
  min-height: 38px;
}

.rsp-multiselect-trigger:focus {
  border-color: var(--rsp-primary);
  --tw-ring-color: var(--rsp-secondary);
}

.rsp-multiselect-trigger--disabled {
  @apply opacity-50 cursor-not-allowed;
}

.rsp-multiselect-trigger--open {
  border-color: var(--rsp-primary);
}

.rsp-multiselect-value {
  @apply flex-1 truncate text-left;
}

.rsp-multiselect-value:empty::before {
  @apply opacity-60;
}

.rsp-multiselect-arrow {
  @apply shrink-0 transition-transform duration-200;
  color: var(--rsp-foreground);
  opacity: 0.6;
}

.rsp-multiselect-trigger--open .rsp-multiselect-arrow {
  @apply rotate-180;
}

.rsp-multiselect-dropdown {
  @apply rounded-md shadow-lg overflow-auto;
  background-color: var(--rsp-background);
  border: 1px solid var(--rsp-border);
}

/* Portal-rendered dropdown with fixed positioning */
.rsp-multiselect-dropdown-portal {
  z-index: 9999;
  animation: slideDown 0.15s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.rsp-multiselect-option {
  @apply flex items-center gap-2 px-3 py-2 cursor-pointer text-sm transition-colors;
  color: var(--rsp-foreground);
}

.rsp-multiselect-option:hover,
.rsp-multiselect-option--focused {
  background-color: var(--rsp-card-bg);
}

.rsp-multiselect-option--selected {
  background-color: var(--rsp-card-bg);
}

.rsp-multiselect-option--selected:hover,
.rsp-multiselect-option--selected.rsp-multiselect-option--focused {
  background-color: var(--rsp-card-bg);
  opacity: 0.9;
}

.rsp-multiselect-option--disabled {
  @apply opacity-50 cursor-not-allowed;
}

.rsp-multiselect-checkbox {
  @apply shrink-0 w-4 h-4 rounded border flex items-center justify-center;
  border-color: var(--rsp-border);
  background-color: var(--rsp-background);
}

.rsp-multiselect-option--selected .rsp-multiselect-checkbox {
  background-color: var(--rsp-primary);
  border-color: var(--rsp-primary);
  color: white;
}

.rsp-multiselect-option-label {
  @apply flex-1;
}
